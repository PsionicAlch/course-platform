{{ template "base" .}}

{{ define "meta-tags" }}
  <meta name="description" content="{{- .Tutorial.Description -}} Learn how to master this aspect of Golang development with step-by-step instructions and practical examples by PsionicAlch." />
  <meta name="keywords" content="
    {{- range .Tutorial.Keywords -}}
      {{- .Keyword -}},
    {{- end -}}
  " />

  <meta property="og:title" content="{{- .Tutorial.Title -}} - PsionicAlch" />
  <meta property="og:description" content="{{- .Tutorial.Description -}} Learn this essential Golang skill with PsionicAlch's in-depth tutorial." />
  <meta property="og:image" content="{{- .Tutorial.BannerURL -}}" />
  <meta property="og:url" content="https://www.psionicalch.com/tutorials/{{- .Tutorial.Slug -}}" />
  <meta property="og:type" content="article" />
  <meta property="og:site_name" content="PsionicAlch" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@psionicalch" />
  <meta name="twitter:title" content="{{- .Tutorial.Title -}} - PsionicAlch" />
  <meta name="twitter:description" content="{{- .Tutorial.Description -}} Learn Golang skills with practical, real-world examples." />
  <meta name="twitter:image" content="{{- .Tutorial.BannerURL -}}" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "{{- .Tutorial.Title -}}",
      "description": "{{- .Tutorial.Description -}}",
      "image": "{{- .Tutorial.BannerURL -}}",
      "author": {
        "@type": "Person",
        "name": "{{- .Author.Name -}} {{- .Author.Surname -}}"
      },
      "datePublished": "{{- .Tutorial.UpdatedAt | pretty_date -}}",
      "timeRequired": "{{- .ReadingTime -}}",
      "mainEntityOfPage": "https://www.psionicalch.com/tutorials/{{- .Tutorial.Slug -}}",
      "publisher": {
        "@type": "Organization",
        "name": "PsionicAlch",
        "logo": {
          "@type": "ImageObject",
          <!-- TODO: Set up logo URL -->
          "url": "https://www.psionicalch.com/static/images/psionicalch_logo.png"
        }
      },
      {{ if .Course }}
      "isPartOf": {
        "@type": "Course",
        "name": "{{- .Course.Title -}}",
        "url": "https://www.psionicalch.com/courses/{{- .Course.Slug -}}"
      }
      {{ end }}
    }
  </script>

{{ end }}

{{ define "stylesheets" }}
  <link rel="stylesheet" href="/assets/css/article.css">
  <link rel="stylesheet" href="/assets/css/tutorial.css">
  <link rel="stylesheet" href="/assets/css/comments.css">
  <link rel="stylesheet" href="/assets/css/atom-one-light.min.css">
{{ end }}

{{ define "head-scripts" }}
  <script src="/assets/js/alpine.min.js" defer></script>
  <script src="/assets/js/highlight.min.js" defer></script>
  <script src="/assets/js/apache.min.js" defer></script>
  <script src="/assets/js/bash.min.js" defer></script>
  <script src="/assets/js/css.min.js" defer></script>
  <script src="/assets/js/dockerfile.min.js" defer></script>
  <script src="/assets/js/go.min.js" defer></script>
  <script src="/assets/js/http.min.js" defer></script>
  <script src="/assets/js/javascript.min.js" defer></script>
  <script src="/assets/js/json.min.js" defer></script>
  <script src="/assets/js/makefile.min.js" defer></script>
  <script src="/assets/js/markdown.min.js" defer></script>
  <script src="/assets/js/nginx.min.js" defer></script>
  <script src="/assets/js/shell.min.js" defer></script>
  <script src="/assets/js/sql.min.js" defer></script>
  <script src="/assets/js/yaml.min.js" defer></script>
{{ end }}

{{ define "title" }}
  <title>{{- .Tutorial.Title -}} - PsionicAlch | Learn Golang with Real-World Examples</title>
{{ end }}

<!-- TODO: Fix code highlighting -->

{{ define "body" }}
  <main>
    <section class="container">
      <div class="tutorial-container">
        <div class="tutorial-header">
          <div>
            <h1>{{- .Tutorial.Title -}}</h1>

            <p>Written by <a href="/authors/{{- .Author.Slug -}}/tutorials">{{- .Author.Name -}} {{- .Author.Surname -}}</a></p>
          </div>

          <!-- TODO: Swap this out for HTMX -->
          <div class="tutorial-actions">
            <div x-data="{ tutorialLiked: false, tutorialSaved: false }">
              <button
                x-bind:class="{ 'liked': tutorialLiked, 'like': !tutorialLiked }"
                x-on:click="tutorialLiked = !tutorialLiked"
              >
                <p x-show="!tutorialLiked">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
                  </svg>
                </p>
                <p x-show="tutorialLiked">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                    <path d="m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z" />
                  </svg>
                </p>
              </button>

              <button
                x-bind:class="{ 'bookmarked': tutorialSaved, 'bookmark': !tutorialSaved }"
                x-on:click="tutorialSaved = !tutorialSaved"
              >
                <p x-show="!tutorialSaved">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z" />
                  </svg>
                </p>
                <p x-show="tutorialSaved">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                    <path fill-rule="evenodd" d="M6.32 2.577a49.255 49.255 0 0 1 11.36 0c1.497.174 2.57 1.46 2.57 2.93V21a.75.75 0 0 1-1.085.67L12 18.089l-7.165 3.583A.75.75 0 0 1 3.75 21V5.507c0-1.47 1.073-2.756 2.57-2.93Z" clip-rule="evenodd" />
                  </svg>
                </p>
              </button>
            </div>
          </div>
        </div>

        <div class="tutorial-content article-content">
          <img src="{{- .Tutorial.BannerURL -}}" alt="Article's banner image" class="banner-img">

          {{ html .Tutorial.Content }}
        </div>
      </div>
    </section>
  </main>

  <section class="comment-section">
    <div class="container">
      <div class="comments-container shadow-sm">
        <div class="comments-header">
          <form action="/">
            <textarea name="comment" id="comment" placeholder="Why not leave your thoughts?" rows="5"></textarea>

            <button type="submit" class="btn btn-blue shadow-sm">Comment</button>
          </form>
        </div>

        <hr>

        <div class="comments-body">
          <div class="comment shadow-sm-hover">
            <div class="comment-header">
              <p><b>User 1's Name</b></p>

              <p><small>3 days ago</small></p>
            </div>

            <hr>

            <div class="comment-body">
              <p>What an amazing tutorial!</p>
            </div>
          </div>

          <div class="comment shadow-sm-hover">
            <div class="comment-header">
              <p><b>User 2's Name</b></p>

              <p><small>5 days ago</small></p>
            </div>

            <hr>

            <div class="comment-body">
              <p>I didn't like your approach to doing the code. I believe it could have been done in a much cleaner way. You should try better next time!</p>
            </div>
          </div>

          <div class="comment shadow-sm-hover">
            <div class="comment-header">
              <p><b>User 3's Name</b></p>

              <p><small>7 days ago</small></p>
            </div>

            <hr>

            <div class="comment-body">
              <p>Thank you so much for this! I've been looking for a tutorial like this for hours now!</p>
            </div>
          </div>

          <div class="comment shadow-sm-hover">
            <div class="comment-header">
              <p><b>User 4's Name</b></p>

              <p><small>9 days ago</small></p>
            </div>

            <hr>

            <div class="comment-body">
              <p>Have you ever wanted this spam link I am sharing with you! I think it's an amazing product!</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
{{ end }}

{{ define "javascript" }}
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      hljs.highlightAll();
    });
  </script>
{{ end }}
