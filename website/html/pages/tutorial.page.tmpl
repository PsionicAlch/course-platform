{{ template "base" .}}

{{ define "meta-tags" }}
  <!-- TODO: Generate SEO Tags with ChatGPT. -->
{{ end }}

{{ define "stylesheets" }}
  <link rel="stylesheet" href="/assets/css/article.css">
  <link rel="stylesheet" href="/assets/css/tutorial.css">
  <link rel="stylesheet" href="/assets/css/comments.css">

  <link rel="stylesheet" href="/css/atom-one-light.min.css">
{{ end }}

{{ define "head-scripts" }}
  <script src="/assets/js/highlight.min.js" defer></script>
  <script src="/assets/js/apache.min.js" defer></script>
  <script src="/assets/js/bash.min.js" defer></script>
  <script src="/assets/js/css.min.js" defer></script>
  <script src="/assets/js/dockerfile.min.js" defer></script>
  <script src="/assets/js/go.min.js" defer></script>
  <script src="/assets/js/http.min.js" defer></script>
  <script src="/assets/js/javascript.min.js" defer></script>
  <script src="/assets/js/json.min.js" defer></script>
  <script src="/assets/js/makefile.min.js" defer></script>
  <script src="/assets/js/markdown.min.js" defer></script>
  <script src="/assets/js/nginx.min.js" defer></script>
  <script src="/assets/js/shell.min.js" defer></script>
  <script src="/assets/js/sql.min.js" defer></script>
  <script src="/assets/js/yaml.min.js" defer></script>
{{ end }}

{{ define "title" }}
  <title>{Tutorial Title} | Golang Project Tutorial | PsionicAlch</title>
{{ end }}

<!-- TODO: Fix code highlighting -->

{{ define "body" }}
  <main>
    <section class="container">
      <div class="tutorial-container">
        <div class="tutorial-header">
          <div>
            <h1>Lorem Ipsum Dolor Sit Amet 0 this should be a really long tutorial name to see how it performs under these conditions</h1>

            <p>Written by <a href="/authors/author-slug-goes-here/tutorials">Jean-Jacques Strydom</a></p>
          </div>

          <div class="tutorial-actions">
            <div x-data="{ tutorialLiked: false, tutorialSaved: false }">
              <button
                x-bind:class="{ 'liked': tutorialLiked, 'like': !tutorialLiked }"
                x-on:click="tutorialLiked = !tutorialLiked"
              >
                <p x-show="!tutorialLiked">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
                  </svg>
                </p>
                <p x-show="tutorialLiked">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                    <path d="m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z" />
                  </svg>
                </p>
              </button>

              <button
                x-bind:class="{ 'bookmarked': tutorialSaved, 'bookmark': !tutorialSaved }"
                x-on:click="tutorialSaved = !tutorialSaved"
              >
                <p x-show="!tutorialSaved">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z" />
                  </svg>
                </p>
                <p x-show="tutorialSaved">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                    <path fill-rule="evenodd" d="M6.32 2.577a49.255 49.255 0 0 1 11.36 0c1.497.174 2.57 1.46 2.57 2.93V21a.75.75 0 0 1-1.085.67L12 18.089l-7.165 3.583A.75.75 0 0 1 3.75 21V5.507c0-1.47 1.073-2.756 2.57-2.93Z" clip-rule="evenodd" />
                  </svg>
                </p>
              </button>
            </div>
          </div>
        </div>

        <div class="tutorial-content article-content">
          <img src="/assets/img/banner-img.png" alt="Article's banner image" class="banner-img">

            <h1 id="main-title">Main Title</h1>

          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer placerat ante ut sodales venenatis. Donec non aliquam ligula, sit amet sollicitudin ligula. Mauris ornare neque consequat, viverra quam non, fermentum leo. Nullam feugiat ullamcorper ipsum, vel dapibus elit porttitor eget. Cras rutrum, lacus at laoreet convallis, erat libero gravida ex, id accumsan augue magna id nunc. Proin semper elit eu arcu elementum, non aliquet massa scelerisque. Duis porta commodo dapibus. Nulla vestibulum tristique blandit. Suspendisse pulvinar tortor purus, sit amet varius urna vehicula sit amet. Aenean congue mi mi, a blandit lectus maximus efficitur. Nunc quis metus lorem. Morbi et diam in elit laoreet bibendum. Morbi ultrices ligula at massa accumsan, a congue enim ullamcorper. Phasellus sit amet ultricies dolor.</p>

          <p><img src="/assets/img/golang-course-platform-image.png" alt="Alt text for image" title="a title for the image"></p>

          <h2 id="secondary-title">Secondary Title</h2>

          <p>Quisque eget magna sapien. Quisque a nulla at risus convallis dapibus ac pretium eros. Nullam ultrices suscipit orci, non ultrices risus faucibus non. Nullam vulputate laoreet metus, ut consequat urna volutpat ac. Cras dictum dignissim augue in tempus. Duis augue sapien, tincidunt id lectus a, tincidunt sagittis purus. Sed pellentesque elementum ante, non laoreet quam elementum sit amet. Aliquam dictum velit dictum, varius neque bibendum, mattis mi. Cras in dictum purus.</p>

          <h2 id="secondary-title-1">Secondary Title</h2>

          <p>Sed ac orci elementum, hendrerit massa non, placerat ligula. Quisque ac lacus mi. Cras nec mi in massa tempus placerat. Nullam gravida justo in diam vehicula, at facilisis ex auctor. Sed sodales sodales feugiat. Quisque eleifend vulputate felis nec tincidunt. Quisque ac pellentesque purus. Nunc ac sodales erat. Etiam venenatis malesuada purus, quis lobortis mauris maximus eu. Fusce elementum, leo in mattis porttitor, erat mauris dignissim odio, at luctus sapien velit quis elit. Quisque sollicitudin dignissim sapien, vitae ultricies neque. Nunc bibendum ut odio ut sagittis. Cras pellentesque felis eu interdum sodales. Curabitur sit amet mi in nisi dapibus tincidunt.</p>

          <p>This is what a code block would look like:</p>

          <pre><code class="language-golang">
            package website

            import (
              "fmt"
              "net/http"

              "github.com/PsionicAlch/psionicalch-home/internal/config"
              "github.com/PsionicAlch/psionicalch-home/internal/database/sqlite_database"
              "github.com/PsionicAlch/psionicalch-home/internal/render/renderers/vanilla"
              scssession "github.com/PsionicAlch/psionicalch-home/internal/session/scs_session"
              "github.com/PsionicAlch/psionicalch-home/internal/utils"
              "github.com/PsionicAlch/psionicalch-home/pkg/gatekeeper"
              "github.com/PsionicAlch/psionicalch-home/website/assets"
              "github.com/PsionicAlch/psionicalch-home/website/html"
              "github.com/PsionicAlch/psionicalch-home/website/pages/accounts"
              "github.com/PsionicAlch/psionicalch-home/website/pages/courses"
              "github.com/PsionicAlch/psionicalch-home/website/pages/general"
              "github.com/PsionicAlch/psionicalch-home/website/pages/profile"
              "github.com/PsionicAlch/psionicalch-home/website/pages/tutorials"
              "github.com/go-chi/chi/v5"
              "github.com/go-chi/chi/v5/middleware"
            )

            func StartWebsite() {
              // Set up loggers for main.
              loggers := utils.CreateLoggers("WEBSITE")

              // Set up project config.
              err := config.SetupConfig()
              if err != nil {
                loggers.ErrorLog.Fatalln(err)
              }

              // Set up database.
              db, err := sqlite_database.CreateSQLiteDatabase("/db/db.sqlite", "/db/migrations")
              if err != nil {
                loggers.ErrorLog.Fatalln(err)
              }
              defer db.Close()

              // Set up session.
              session := scssession.NewSession()

              // Set up renderers.
              pagesRenderer, err := vanilla.SetupVanillaRenderer(html.HTMLFiles, "pages", "layouts/*.layout.tmpl", "components/*.component.tmpl")
              if err != nil {
                loggers.ErrorLog.Fatalln("Failed to set up pages renderer: ", err)
              }

              htmxRenderer, err := vanilla.SetupVanillaRenderer(html.HTMLFiles, "htmx", "components/*.component.tmpl")
              if err != nil {
                loggers.ErrorLog.Fatalln("Failed to set up htmx renderer: ", err)
              }

              // Set up Gatekeeper.
              authCookieName := config.GetWithoutError[string]("AUTH_COOKIE_NAME")
              websiteDomain := config.GetWithoutError[string]("DOMAIN_NAME")
              authLifetime := config.GetWithoutError[int]("AUTH_TOKEN_LIFETIME")
              currentGatekeeperKey := config.GetWithoutError[string]("GATEKEEPER_CURRENT_KEY")
              prevGatekeeperKey := config.GetWithoutError[string]("GATEKEEPER_PREVIOUS_KEY")

              auth, err := gatekeeper.NewGatekeeper(authCookieName, websiteDomain, authLifetime, currentGatekeeperKey, prevGatekeeperKey, db)
              if err != nil {
                loggers.ErrorLog.Fatalln("Failed to set up authentication: ", err)
              }

              // Set up handlers.
              generalHandlers := general.SetupHandlers(pagesRenderer, auth, db)
              accountHandlers := accounts.SetupHandlers(pagesRenderer, htmxRenderer, session, auth)
              tutorialHandlers := tutorials.SetupHandlers(pagesRenderer, auth, db)
              courseHandlers := courses.SetupHandlers(pagesRenderer)
              profileHandlers := profile.SetupHandlers(pagesRenderer, auth, db)

              // Create new router.
              router := chi.NewRouter()

              // Set up middleware.
              router.Use(middleware.RealIP)
              router.Use(session.LoadSession)
              router.Use(middleware.Logger)
              router.Use(middleware.Recoverer)

              // Set up 404 handler.
              router.NotFound(func(w http.ResponseWriter, r *http.Request) {
                pagesRenderer.RenderHTML(w, "404.page.tmpl", nil, http.StatusNotFound)
              })

              // Set up asset routes.
              router.Mount("/assets", http.StripPrefix("/assets", http.FileServerFS(assets.AssetFiles)))

              // Set up routes.
              router.Mount("/", general.RegisterRoutes(generalHandlers))
              router.Mount("/accounts", accounts.RegisterRoutes(accountHandlers))
              router.Mount("/profile", profile.RegisterRoutes(profileHandlers))
              router.Mount("/tutorials", tutorials.RegisterRoutes(tutorialHandlers))
              router.Mount("/courses", courses.RegisterRoutes(courseHandlers))

              // Start server.
              port := config.GetWithoutError[string]("PORT")
              loggers.InfoLog.Println("Starting server on port:", port)
              loggers.ErrorLog.Fatal(http.ListenAndServe(fmt.Sprintf(":%s", port), router))
            }
          </code></pre>

          <h3 id="tersary-title">Tersary Title</h3>

          <p>Ut nec viverra lorem. Sed venenatis erat sit amet nisl finibus suscipit at non elit. Nullam vitae ultrices libero. Duis non semper felis. Sed sapien lacus, ullamcorper interdum fermentum ac, consectetur ac felis. Suspendisse ultrices fringilla feugiat. Etiam feugiat vel mi ut efficitur. Sed nisl nulla, pellentesque non dolor non, facilisis accumsan libero. Aliquam porta augue lacus, sit amet porttitor risus tristique tristique. Fusce et pellentesque risus, at aliquam mi. Nam convallis fringilla ligula ac volutpat. Duis ligula magna, ornare ut suscipit ut, dictum non turpis. Fusce dictum urna vel lorem tincidunt, id tempor felis sagittis. Praesent interdum viverra arcu, vitae fringilla est mattis ut. Nunc lobortis ullamcorper elit, quis tincidunt lacus. Quisque ac risus mauris.</p>

          <p>Here is an ordered list of outputs:</p>

          <ol>
            <li>This is item 1.</li>
            <li>This is item 2.</li>
            <li>This is item 3.</li>
            <li>This is item 4.</li>
            <li>This is item 5.</li>
            <li>This is item 6.</li>
          </ol>

          <p>Here is an unordered list:</p>

          <ul>
            <li>This is item 1.</li>
            <li>This is item 2.</li>
            <li>This is item 3.</li>
            <li>This is item 4.</li>
            <li>This is item 5.</li>
            <li>This is item 6.</li>
          </ul>

          <h3 id="tersary-title-1">Tersary Title</h3>

          <p>Fusce vehicula justo vitae lectus porttitor porttitor. Aenean id augue eu lacus laoreet mollis. Pellentesque porta nunc at libero aliquet pharetra. Mauris nec ipsum a sapien faucibus commodo. Nulla vel vehicula diam. Proin elementum dolor at sapien dapibus, id molestie enim rutrum. Nunc semper ligula lorem, in luctus justo efficitur sit amet. Morbi purus neque, volutpat quis efficitur sed, pretium et turpis. Aenean vehicula viverra viverra. Phasellus nec interdum risus. In efficitur, mi a aliquet faucibus, est arcu convallis turpis, id tincidunt mauris purus at arcu. Pellentesque nisi velit, dictum et turpis sed, blandit fermentum ante. Pellentesque vestibulum sapien vitae diam lacinia, nec dignissim dolor gravida. Maecenas fermentum sed mauris sit amet placerat. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</p>

          <h3 id="tersary-title-2">Tersary Title</h3>

          <p>Pellentesque vitae tellus elit. Nunc faucibus tincidunt ante sit amet porta. Vestibulum imperdiet mauris pretium arcu tincidunt, eu rhoncus lectus condimentum. Nulla bibendum porta augue, vel facilisis ipsum sodales id. Phasellus interdum commodo nisl sed elementum. Nullam in rutrum ex, at euismod sapien. Aliquam ullamcorper dolor a enim sagittis, quis varius ipsum sodales. Nullam vel tincidunt lectus, eget placerat felis. Sed ac quam mi. Vestibulum et tortor id ante viverra feugiat. In mollis venenatis massa eget vehicula. Nam pretium risus elit, eu porttitor sapien tempor ut.</p>
        </div>
      </div>
    </section>
  </main>

  <section class="comment-section">
    <div class="container">
      <div class="comments-container shadow-sm">
        <div class="comments-header">
          <form>
            <textarea name="comment" id="comment" placeholder="Why not leave your thoughts?" rows="5"></textarea>

            <button type="submit" class="btn btn-blue shadow-sm">Comment</button>
          </form>
        </div>

        <hr>

        <div class="comments-body">
          <div class="comment shadow-sm-hover">
            <div class="comment-header">
              <p><b>User 1's Name</b></p>

              <p><small>3 days ago</small></p>
            </div>

            <hr>

            <div class="comment-body">
              <p>What an amazing tutorial!</p>
            </div>
          </div>

          <div class="comment shadow-sm-hover">
            <div class="comment-header">
              <p><b>User 2's Name</b></p>

              <p><small>5 days ago</small></p>
            </div>

            <hr>

            <div class="comment-body">
              <p>I didn't like your approach to doing the code. I believe it could have been done in a much cleaner way. You should try better next time!</p>
            </div>
          </div>

          <div class="comment shadow-sm-hover">
            <div class="comment-header">
              <p><b>User 3's Name</b></p>

              <p><small>7 days ago</small></p>
            </div>

            <hr>

            <div class="comment-body">
              <p>Thank you so much for this! I've been looking for a tutorial like this for hours now!</p>
            </div>
          </div>

          <div class="comment shadow-sm-hover">
            <div class="comment-header">
              <p><b>User 4's Name</b></p>

              <p><small>9 days ago</small></p>
            </div>

            <hr>

            <div class="comment-body">
              <p>Have you ever wanted this spam link I am sharing with you! I think it's an amazing product!</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
{{ end }}

{{ define "javascript" }}
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      hljs.highlightAll();
    });
  </script>
{{ end }}
